{% extends 'base.html' %}

{% block content %}
  <button type='button' id='start'>Start!</button>
  <br>
  <br>
  {% for activity in activity_time %}
    <div>
      Step: {{ activity_time[activity][0] }} ---
    </div>
    <div>
      Remaining Time: <span class='timer' id='{{ activity }}' data-time='{{ activity_time[activity][1] }}'>
        {{ activity_time[activity][1]/60 }} minutes</span>
      <button type='button' class='stop' id='stop-{{ activity }}'>Stop Timer</button>
      <br>
      <br>
    </div>

  {% endfor %}

{% endblock %}

{% block js %}
<script>

let time = 15;
let interval;

function countDown(time) {
  interval = setInterval(function () {
    $('.timer').html(time);
    time -= 1;
    }, 1000);
  }

$('#start').on('click', ()=>countDown(time));
$('.stop').on('click', ()=>(clearInterval(interval)));

</script>
{% endblock %}